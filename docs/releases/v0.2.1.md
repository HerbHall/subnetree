# v0.2.1 Release Notes

**Release Date:** 2026-02-08
**Tag:** `v0.2.1`

## Overview

v0.2.1 is a patch release fixing a critical startup bug in v0.2.0 and adding
release verification tooling.

## Critical Fix

### Vault Route Pattern Conflict (PR #139)

v0.2.0 panicked on startup due to a Go 1.22+ ServeMux route conflict in the
Vault plugin. Two route patterns were structurally ambiguous:

- `GET /api/v1/vault/credentials/{id}/data`
- `GET /api/v1/vault/credentials/device/{device_id}`

Both matched `/api/v1/vault/credentials/device/data`, and neither was more
specific. Go's enhanced ServeMux (1.22+) detects this at registration time
and panics rather than silently picking one.

**Fix:** Renamed the device-scoped route to
`GET /api/v1/vault/device-credentials/{device_id}`.

## New: Release Verification Scripts

Added automated verification scripts for testing release binaries across
platforms:

- `tools/verify-release.ps1` -- Windows PowerShell (11 test sections)
- `tools/verify-release.sh` -- Linux/macOS bash (12 test sections)
- `.github/ISSUE_TEMPLATE/release_verification.md` -- tracking template

Both scripts download the release binary, verify checksums, start a server,
run through setup, authentication, scanning, vault, pulse, insight, and
cleanup -- fully automated.

## Verification Results

- **Windows amd64**: 27 passed, 0 failed (Windows 11)
- Network scan discovered 33 devices
- Vault unseal/create/decrypt/seal all passed
- Pulse auto-created ICMP checks for all discovered devices

## All Changes

- `fix(vault)`: resolve route pattern conflict causing server panic (#139)
- `fix`: set vault passphrase env var in release verification scripts
- `fix`: use valid log format in release verification scripts
- `fix`: correct verification script API paths and auth handling
- `fix`: resolve 3 false warnings in release verification scripts
- `chore`: add release verification scripts and issue template (#138, #135)

## Upgrade from v0.2.0

v0.2.0 will panic on startup. Upgrade to v0.2.1 immediately.

```bash
docker pull ghcr.io/herbhall/subnetree:v0.2.1
docker stop subnetree && docker rm subnetree
docker run -d --name subnetree \
  -p 8080:8080 \
  -v subnetree-data:/data \
  --cap-add NET_RAW --cap-add NET_ADMIN \
  ghcr.io/herbhall/subnetree:v0.2.1
```
