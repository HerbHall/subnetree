# SubNetree Environment Configuration
#
# Copy this file to .env and customize for your setup.
# Docker Compose will automatically load .env from the same directory.
#
# All SubNetree config settings use the NV_ prefix, matching the YAML
# config structure with dots replaced by underscores.
# For example, the YAML key "server.port" becomes NV_SERVER_PORT.

# ──────────────────────────────────────────────
# Server
# ──────────────────────────────────────────────

# Listen address for the web UI and REST API (default: 0.0.0.0)
# NV_SERVER_HOST=0.0.0.0

# Port for the web UI and REST API (default: 8080)
# NV_SERVER_PORT=8080

# Data directory inside the container (default: ./data)
# NV_SERVER_DATA_DIR=/data

# Enable Swagger UI at /swagger/ (default: false)
# NV_SERVER_DEV_MODE=false

# ──────────────────────────────────────────────
# Database
# ──────────────────────────────────────────────

# SQLite database path (default: ./data/subnetree.db)
# NV_DATABASE_DSN=/data/subnetree.db

# ──────────────────────────────────────────────
# Logging
# ──────────────────────────────────────────────

# Log level: debug, info, warn, error (default: info)
NV_LOGGING_LEVEL=info

# Log format: json, console (default: json)
# NV_LOGGING_FORMAT=json

# ──────────────────────────────────────────────
# Network Scanning (Recon module)
# ──────────────────────────────────────────────

# Enable the Recon scanning module (default: true)
# NV_PLUGINS_RECON_ENABLED=true

# Maximum scan duration (default: 5m)
# NV_PLUGINS_RECON_SCAN_TIMEOUT=5m

# ICMP ping timeout per host (default: 2s)
# NV_PLUGINS_RECON_PING_TIMEOUT=2s

# Number of ping attempts per host (default: 3)
# NV_PLUGINS_RECON_PING_COUNT=3

# Max concurrent ping probes (default: 64)
# NV_PLUGINS_RECON_CONCURRENCY=64

# Read ARP table for MAC addresses (default: true)
# NV_PLUGINS_RECON_ARP_ENABLED=true

# Mark device offline after this duration (default: 24h)
# NV_PLUGINS_RECON_DEVICE_LOST_AFTER=24h

# ──────────────────────────────────────────────
# Health Monitoring (Pulse module)
# ──────────────────────────────────────────────

# Enable the Pulse monitoring module (default: true)
# NV_PLUGINS_PULSE_ENABLED=true

# How often to run health checks (default: 30s)
# NV_PLUGINS_PULSE_CHECK_INTERVAL=30s

# Ping timeout for health checks (default: 5s)
# NV_PLUGINS_PULSE_PING_TIMEOUT=5s

# Consecutive failures before alerting (default: 3)
# NV_PLUGINS_PULSE_CONSECUTIVE_FAILURES=3

# How long to keep check results (default: 720h = 30 days)
# NV_PLUGINS_PULSE_RETENTION_PERIOD=720h

# ──────────────────────────────────────────────
# Agent Management (Dispatch module)
# ──────────────────────────────────────────────

# Enable the Dispatch agent module (default: true)
# NV_PLUGINS_DISPATCH_ENABLED=true

# gRPC listen address for Scout agents (default: :9090)
# NV_PLUGINS_DISPATCH_GRPC_ADDR=:9090

# ──────────────────────────────────────────────
# Credential Vault
# ──────────────────────────────────────────────

# Enable the Vault credential module (default: true)
# NV_PLUGINS_VAULT_ENABLED=true

# Vault passphrase for credential encryption.
# NOTE: This uses SUBNETREE_VAULT_PASSPHRASE (not the NV_ prefix).
# Set this to auto-unseal the vault on startup.
# If not set, the vault starts sealed and must be unlocked via the UI.
# SUBNETREE_VAULT_PASSPHRASE=your-secure-passphrase-here

# ──────────────────────────────────────────────
# Remote Access (Gateway module)
# ──────────────────────────────────────────────

# Enable the Gateway SSH proxy module (default: true)
# NV_PLUGINS_GATEWAY_ENABLED=true

# Gateway session timeout (default: 30m)
# NV_PLUGINS_GATEWAY_SESSION_TIMEOUT=30m

# Max concurrent gateway sessions (default: 100)
# NV_PLUGINS_GATEWAY_MAX_SESSIONS=100

# ──────────────────────────────────────────────
# Authentication
# ──────────────────────────────────────────────

# JWT secret for token signing (auto-generated if not set)
# NV_AUTH_JWT_SECRET=your-jwt-secret-here

# Access token lifetime (default: 15m)
# NV_AUTH_ACCESS_TOKEN_TTL=15m

# Refresh token lifetime (default: 7 days = 168h)
# NV_AUTH_REFRESH_TOKEN_TTL=168h

# ──────────────────────────────────────────────
# AI Analytics (Insight module)
# ──────────────────────────────────────────────

# LLM endpoint for AI-powered analysis (default: http://localhost:11434)
# NV_PLUGINS_LLM_URL=http://localhost:11434

# LLM model name (default: qwen2.5:32b)
# NV_PLUGINS_LLM_MODEL=qwen2.5:32b

# LLM request timeout (default: 5m)
# NV_PLUGINS_LLM_TIMEOUT=5m
