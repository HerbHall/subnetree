basePath: /api/v1
definitions:
  github_com_HerbHall_subnetree_internal_services.NetworkInterface:
    properties:
      ip_address:
        example: 192.168.1.100
        type: string
      mac:
        example: 00:1a:2b:3c:4d:5e
        type: string
      name:
        example: eth0
        type: string
      status:
        description: '"up" or "down"'
        example: up
        type: string
      subnet:
        example: 192.168.1.0/24
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_analytics.AlertGroup:
    properties:
      alert_count:
        type: integer
      created_at:
        type: string
      description:
        type: string
      device_ids:
        items:
          type: string
        type: array
      id:
        type: string
      root_cause:
        description: Device ID identified as root
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_analytics.Anomaly:
    properties:
      description:
        type: string
      detected_at:
        type: string
      deviation:
        description: How far from baseline (sigma)
        type: number
      device_id:
        type: string
      expected:
        description: Baseline expected value
        type: number
      id:
        type: string
      metric_name:
        type: string
      resolved_at:
        type: string
      severity:
        description: '"info", "warning", "critical"'
        type: string
      type:
        description: '"zscore", "cusum", "trend"'
        type: string
      value:
        description: Observed value
        type: number
    type: object
  github_com_HerbHall_subnetree_pkg_analytics.Baseline:
    properties:
      algorithm:
        description: '"ewma", "holt_winters"'
        type: string
      device_id:
        type: string
      mean:
        type: number
      metric_name:
        type: string
      samples:
        type: integer
      stable:
        description: true after learning period
        type: boolean
      std_dev:
        type: number
      updated_at:
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_analytics.Forecast:
    properties:
      confidence:
        description: 0.0-1.0
        type: number
      current_value:
        type: number
      device_id:
        type: string
      generated_at:
        type: string
      metric_name:
        type: string
      predicted_value:
        type: number
      slope:
        description: Rate of change per hour
        type: number
      threshold:
        type: number
      time_to_threshold:
        type: integer
    type: object
  github_com_HerbHall_subnetree_pkg_analytics.NLQueryRequest:
    properties:
      query:
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_analytics.NLQueryResponse:
    properties:
      answer:
        type: string
      model:
        type: string
      query:
        type: string
      structured: {}
    type: object
  github_com_HerbHall_subnetree_pkg_analytics.Recommendation:
    properties:
      current_value:
        type: number
      description:
        type: string
      device_id:
        type: string
      generated_at:
        type: string
      id:
        type: string
      metric:
        type: string
      severity:
        description: '"info", "warning", "critical"'
        type: string
      threshold:
        type: number
      title:
        type: string
      type:
        description: '"cpu", "memory", "disk"'
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_catalog.CatalogEntry:
    properties:
      category:
        $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_catalog.Category'
      description:
        type: string
      docker_image:
        type: string
      github_url:
        type: string
      integration_notes:
        type: string
      integration_status:
        $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_catalog.IntegrationStatus'
      language:
        type: string
      license:
        type: string
      min_ram_mb:
        type: integer
      name:
        type: string
      protocols:
        items:
          type: string
        type: array
      stars:
        type: integer
      supported_tiers:
        items:
          $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_catalog.HardwareTier'
        type: array
      tags:
        items:
          type: string
        type: array
      website:
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_catalog.Category:
    enum:
    - monitoring
    - infrastructure
    - dns
    - home-automation
    - notifications
    - dashboard
    - cmdb
    - documentation
    - network
    - backup
    - security
    - media
    - vpn
    - automation
    - container-management
    type: string
    x-enum-varnames:
    - CategoryMonitoring
    - CategoryInfrastructure
    - CategoryDNS
    - CategoryHomeAutomation
    - CategoryNotifications
    - CategoryDashboard
    - CategoryCMDB
    - CategoryDocumentation
    - CategoryNetwork
    - CategoryBackup
    - CategorySecurity
    - CategoryMedia
    - CategoryVPN
    - CategoryAutomation
    - CategoryContainerManagement
  github_com_HerbHall_subnetree_pkg_catalog.HardwareTier:
    enum:
    - 0
    - 1
    - 2
    - 3
    - 4
    type: integer
    x-enum-comments:
      TierCluster: Proxmox cluster
      TierMiniPC: Intel N100 (8-32 GB)
      TierNAS: Synology/QNAP (Scout only)
      TierSBC: Pi, SBC (1 GB)
      TierSMB: Small business server    x-enum-varnames:
    - TierSBC
    - TierMiniPC
    - TierNAS
    - TierCluster
    - TierSMB
  github_com_HerbHall_subnetree_pkg_catalog.IntegrationStatus:
    enum:
    - shipped
    - planned
    - possible
    type: string
    x-enum-comments:
      IntegrationPlanned: On roadmap
      IntegrationPossible: Feasible, not scheduled
      IntegrationShipped: Already works    x-enum-varnames:
    - IntegrationShipped
    - IntegrationPlanned
    - IntegrationPossible
  github_com_HerbHall_subnetree_pkg_models.APIProblem:
    properties:
      detail:
        example: invalid request body
        type: string
      instance:
        example: /api/v1/auth/login
        type: string
      status:
        example: 400
        type: integer
      title:
        example: Bad Request
        type: string
      type:
        example: https://subnetree.com/problems/bad-request
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_models.AgentInfo:
    properties:
      device_id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      enrolled_at:
        example: "2026-01-10T08:00:00Z"
        type: string
      id:
        example: agent-550e8400
        type: string
      last_check_in:
        example: "2026-01-15T10:30:00Z"
        type: string
      platform:
        example: linux/amd64
        type: string
      status:
        example: connected
        type: string
      version:
        example: 0.1.0
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_models.DesiredState:
    enum:
    - should-run
    - should-stop
    - monitoring-only
    type: string
    x-enum-varnames:
    - DesiredStateShouldRun
    - DesiredStateShouldStop
    - DesiredStateMonitoringOnly
  github_com_HerbHall_subnetree_pkg_models.Device:
    properties:
      agent_id:
        example: agent-01
        type: string
      category:
        example: production
        type: string
      classification_confidence:
        description: Classification metadata from the composite classifier.
        example: 75
        type: integer
      classification_signals:
        description: JSON-encoded signal breakdown
        type: string
      classification_source:
        example: snmp_bridge_mib
        type: string
      connection_type:
        description: '"wired", "wifi", "unknown"'
        example: wifi
        type: string
      custom_fields:
        additionalProperties:
          type: string
        type: object
      device_type:
        allOf:
        - $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceType'
        example: server
      discovery_method:
        allOf:
        - $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DiscoveryMethod'
        example: icmp
      first_seen:
        example: "2026-01-10T08:00:00Z"
        type: string
      hostname:
        example: web-server-01
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      ip_addresses:
        items:
          type: string
        type: array
      last_seen:
        example: "2026-01-15T10:30:00Z"
        type: string
      location:
        example: Rack A3, U12
        type: string
      mac_address:
        example: 00:1a:2b:3c:4d:5e
        type: string
      manufacturer:
        example: Dell Inc.
        type: string
      network_layer:
        description: 0=unknown, 1=gateway, 2=distribution, 3=access, 4=endpoint
        example: 4
        type: integer
      notes:
        example: Production web server
        type: string
      os:
        example: Ubuntu 22.04
        type: string
      owner:
        example: platform-team
        type: string
      parent_device_id:
        description: Network hierarchy metadata from hierarchy inference.
        type: string
      primary_role:
        example: web-server
        type: string
      status:
        allOf:
        - $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceStatus'
        example: online
      tags:
        items:
          type: string
        type: array
    type: object
  github_com_HerbHall_subnetree_pkg_models.DeviceGPU:
    properties:
      collected_at:
        type: string
      collection_source:
        example: scout-linux
        type: string
      device_id:
        type: string
      driver_version:
        example: 535.183.01
        type: string
      id:
        type: string
      model:
        example: NVIDIA RTX 3090 Ti
        type: string
      vendor:
        example: nvidia
        type: string
      vram_mb:
        example: 24576
        type: integer
    type: object
  github_com_HerbHall_subnetree_pkg_models.DeviceHardware:
    properties:
      bios_version:
        example: 2.17.0
        type: string
      collected_at:
        type: string
      collection_source:
        example: scout-wmi
        type: string
      cpu_arch:
        example: x86_64
        type: string
      cpu_cores:
        example: 10
        type: integer
      cpu_model:
        example: Intel Core i9-10900K
        type: string
      cpu_threads:
        example: 20
        type: integer
      device_id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      fqdn:
        example: web-server-01.local
        type: string
      hostname:
        example: web-server-01
        type: string
      hypervisor:
        example: proxmox
        type: string
      kernel:
        example: 6.5.0-44-generic
        type: string
      os_arch:
        example: amd64
        type: string
      os_name:
        example: Ubuntu 24.04
        type: string
      os_version:
        example: "24.04"
        type: string
      platform_type:
        example: baremetal
        type: string
      ram_slots_total:
        example: 4
        type: integer
      ram_slots_used:
        example: 2
        type: integer
      ram_total_mb:
        example: 32768
        type: integer
      ram_type:
        example: DDR4
        type: string
      serial_number:
        example: ABC123
        type: string
      system_manufacturer:
        example: Dell Inc.
        type: string
      system_model:
        example: PowerEdge R730
        type: string
      updated_at:
        type: string
      vm_host_id:
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_models.DeviceService:
    properties:
      collected_at:
        type: string
      collection_source:
        example: scout-linux
        type: string
      device_id:
        type: string
      id:
        type: string
      name:
        example: plex
        type: string
      port:
        example: 32400
        type: integer
      service_type:
        example: docker
        type: string
      status:
        example: running
        type: string
      url:
        example: http://192.168.1.10:32400
        type: string
      version:
        example: 1.40.0
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_models.DeviceStatus:
    enum:
    - online
    - offline
    - degraded
    - unknown
    type: string
    x-enum-varnames:
    - DeviceStatusOnline
    - DeviceStatusOffline
    - DeviceStatusDegraded
    - DeviceStatusUnknown
  github_com_HerbHall_subnetree_pkg_models.DeviceStorage:
    properties:
      capacity_gb:
        example: 4000
        type: integer
      collected_at:
        type: string
      collection_source:
        example: scout-linux
        type: string
      device_id:
        type: string
      disk_type:
        example: nvme
        type: string
      id:
        type: string
      interface:
        example: pcie4
        type: string
      model:
        example: Samsung SSD 990 PRO
        type: string
      name:
        example: Samsung 990 Pro 4TB
        type: string
      role:
        example: data
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_models.DeviceType:
    enum:
    - server
    - desktop
    - laptop
    - mobile
    - router
    - switch
    - printer
    - iot
    - access_point
    - firewall
    - nas
    - phone
    - tablet
    - camera
    - virtual_machine
    - container
    - unknown
    type: string
    x-enum-varnames:
    - DeviceTypeServer
    - DeviceTypeDesktop
    - DeviceTypeLaptop
    - DeviceTypeMobile
    - DeviceTypeRouter
    - DeviceTypeSwitch
    - DeviceTypePrinter
    - DeviceTypeIoT
    - DeviceTypeAccessPoint
    - DeviceTypeFirewall
    - DeviceTypeNAS
    - DeviceTypePhone
    - DeviceTypeTablet
    - DeviceTypeCamera
    - DeviceTypeVM
    - DeviceTypeContainer
    - DeviceTypeUnknown
  github_com_HerbHall_subnetree_pkg_models.DiscoveryMethod:
    enum:
    - agent
    - icmp
    - arp
    - snmp
    - mdns
    - upnp
    - mqtt
    - manual
    - wifi
    - proxmox
    - tailscale
    type: string
    x-enum-varnames:
    - DiscoveryAgent
    - DiscoveryICMP
    - DiscoveryARP
    - DiscoverySNMP
    - DiscoverymDNS
    - DiscoveryUPnP
    - DiscoveryMQTT
    - DiscoveryManual
    - DiscoveryWiFi
    - DiscoveryProxmox
    - DiscoveryTailscale
  github_com_HerbHall_subnetree_pkg_models.FleetSummary:
    properties:
      avg_cpu:
        example: 35.4
        type: number
      avg_memory:
        example: 52.1
        type: number
      by_grade:
        additionalProperties:
          type: integer
        type: object
      overloaded:
        items:
          type: string
        type: array
      total_devices:
        example: 8
        type: integer
      total_services:
        example: 42
        type: integer
      underutilized:
        items:
          type: string
        type: array
    type: object
  github_com_HerbHall_subnetree_pkg_models.HardwareSummary:
    properties:
      by_cpu_model:
        additionalProperties:
          type: integer
        type: object
      by_gpu_vendor:
        additionalProperties:
          type: integer
        type: object
      by_os:
        additionalProperties:
          type: integer
        type: object
      by_platform_type:
        additionalProperties:
          type: integer
        type: object
      total_gpus:
        type: integer
      total_ram_mb:
        type: integer
      total_storage_gb:
        type: integer
      total_with_hardware:
        type: integer
    type: object
  github_com_HerbHall_subnetree_pkg_models.ScanMetrics:
    properties:
      created_at:
        type: string
      devices_created:
        type: integer
      devices_updated:
        type: integer
      duration_ms:
        type: integer
      enrich_phase_ms:
        type: integer
      hosts_alive:
        type: integer
      hosts_scanned:
        type: integer
      ping_phase_ms:
        type: integer
      post_process_ms:
        type: integer
      scan_id:
        type: string
    type: object
  github_com_HerbHall_subnetree_pkg_models.ScanResult:
    properties:
      devices:
        items:
          $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.Device'
        type: array
      ended_at:
        example: "2026-01-15T10:32:15Z"
        type: string
      id:
        example: a1b2c3d4-e5f6-7890-abcd-ef1234567890
        type: string
      online:
        example: 8
        type: integer
      started_at:
        example: "2026-01-15T10:30:00Z"
        type: string
      status:
        example: completed
        type: string
      subnet:
        example: 192.168.1.0/24
        type: string
      total:
        example: 12
        type: integer
    type: object
  github_com_HerbHall_subnetree_pkg_models.Service:
    properties:
      application_id:
        example: app-001
        type: string
      cpu_percent:
        example: 12.5
        type: number
      desired_state:
        allOf:
        - $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DesiredState'
        example: should-run
      device_id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      display_name:
        example: NGINX Web Server
        type: string
      first_seen:
        example: "2026-01-10T08:00:00Z"
        type: string
      id:
        example: svc-550e8400-e29b-41d4-a716-446655440000
        type: string
      last_seen:
        example: "2026-02-13T10:30:00Z"
        type: string
      memory_bytes:
        example: 134217728
        type: integer
      name:
        example: nginx
        type: string
      ports:
        items:
          type: string
        type: array
      service_type:
        allOf:
        - $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.ServiceType'
        example: docker-container
      status:
        allOf:
        - $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.ServiceStatus'
        example: running
    type: object
  github_com_HerbHall_subnetree_pkg_models.ServiceStatus:
    enum:
    - running
    - stopped
    - failed
    - unknown
    type: string
    x-enum-varnames:
    - ServiceStatusRunning
    - ServiceStatusStopped
    - ServiceStatusFailed
    - ServiceStatusUnknown
  github_com_HerbHall_subnetree_pkg_models.ServiceType:
    enum:
    - docker-container
    - systemd-service
    - windows-service
    - application
    type: string
    x-enum-varnames:
    - ServiceTypeDockerContainer
    - ServiceTypeSystemdService
    - ServiceTypeWindowsService
    - ServiceTypeApplication
  github_com_HerbHall_subnetree_pkg_models.UtilizationSummary:
    properties:
      cpu_percent:
        example: 45.2
        type: number
      device_id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      disk_percent:
        example: 38.1
        type: number
      grade:
        example: B
        type: string
      headroom:
        example: 37.2
        type: number
      hostname:
        example: web-server-01
        type: string
      memory_percent:
        example: 62.8
        type: number
      service_count:
        example: 12
        type: integer
    type: object
  github_com_HerbHall_subnetree_pkg_roles.MonitorStatus:
    properties:
      checked_at:
        type: string
      device_id:
        type: string
      healthy:
        type: boolean
      message:
        type: string
    type: object
  internal_auth.LoginRequest:
    properties:
      password:
        example: securepassword123
        type: string
      username:
        example: admin
        type: string
    type: object
  internal_auth.LogoutRequest:
    properties:
      refresh_token:
        example: dGhpcyBpcyBhIHJlZnJl...
        type: string
    type: object
  internal_auth.MFADisableRequest:
    properties:
      totp_code:
        example: "123456"
        type: string
    type: object
  internal_auth.MFARecoveryRequest:
    properties:
      mfa_token:
        example: eyJhbG...
        type: string
      recovery_code:
        example: a1b2c3d4
        type: string
    type: object
  internal_auth.MFASetupResponse:
    properties:
      otpauth_url:
        example: otpauth://totp/SubNetree:admin?secret=...
        type: string
      recovery_codes:
        items:
          type: string
        type: array
    type: object
  internal_auth.MFAVerifyRequest:
    properties:
      mfa_token:
        example: eyJhbG...
        type: string
      totp_code:
        example: "123456"
        type: string
    type: object
  internal_auth.MFAVerifySetupRequest:
    properties:
      totp_code:
        example: "123456"
        type: string
    type: object
  internal_auth.RefreshRequest:
    properties:
      refresh_token:
        example: dGhpcyBpcyBhIHJlZnJl...
        type: string
    type: object
  internal_auth.Role:
    enum:
    - admin
    - operator
    - viewer
    type: string
    x-enum-varnames:
    - RoleAdmin
    - RoleOperator
    - RoleViewer
  internal_auth.SetupRequest:
    properties:
      email:
        example: admin@example.com
        type: string
      password:
        example: securepassword123
        type: string
      username:
        example: admin
        type: string
    type: object
  internal_auth.SetupStatusResponse:
    properties:
      setup_required:
        example: false
        type: boolean
      version:
        example: 0.4.0
        type: string
    type: object
  internal_auth.TokenPair:
    properties:
      access_token:
        example: eyJhbGciOiJIUzI1NiIs...
        type: string
      expires_in:
        description: Access token TTL in seconds
        example: 900
        type: integer
      refresh_token:
        example: dGhpcyBpcyBhIHJlZnJl...
        type: string
    type: object
  internal_auth.UpdateUserRequest:
    properties:
      disabled:
        example: false
        type: boolean
      email:
        example: user@example.com
        type: string
      role:
        example: operator
        type: string
    type: object
  internal_auth.User:
    properties:
      auth_provider:
        example: local
        type: string
      created_at:
        example: "2026-01-10T08:00:00Z"
        type: string
      disabled:
        example: false
        type: boolean
      email:
        example: admin@example.com
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      last_login:
        example: "2026-01-15T10:30:00Z"
        type: string
      locked_until:
        type: string
      oidc_subject:
        type: string
      role:
        allOf:
        - $ref: '#/definitions/internal_auth.Role'
        example: admin
      totp_enabled:
        type: boolean
      username:
        example: admin
        type: string
    type: object
  internal_autodoc.ChangelogEntry:
    properties:
      created_at:
        type: string
      details:
        items:
          type: integer
        type: array
      device_id:
        type: string
      event_type:
        type: string
      id:
        type: string
      source_module:
        type: string
      summary:
        type: string
    type: object
  internal_autodoc.ChangelogListResponse:
    properties:
      entries:
        items:
          $ref: '#/definitions/internal_autodoc.ChangelogEntry'
        type: array
      page:
        type: integer
      per_page:
        type: integer
      total:
        type: integer
    type: object
  internal_autodoc.Stats:
    properties:
      entries_by_type:
        additionalProperties:
          type: integer
        type: object
      latest_entry:
        $ref: '#/definitions/internal_autodoc.ChangelogEntry'
      oldest_entry:
        $ref: '#/definitions/internal_autodoc.ChangelogEntry'
      total_entries:
        type: integer
    type: object
  internal_catalog.RecommendationResponse:
    properties:
      count:
        type: integer
      entries:
        items:
          $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_catalog.CatalogEntry'
        type: array
      tier:
        type: integer
    type: object
  internal_dispatch.enrollTokenRequest:
    properties:
      description:
        type: string
      expires_in:
        description: e.g. "24h", "7d"
        type: string
      max_uses:
        type: integer
    type: object
  internal_dispatch.enrollTokenResponse:
    properties:
      expires_at:
        type: string
      id:
        type: string
      max_uses:
        type: integer
      token:
        description: raw token (only returned once)
        type: string
    type: object
  internal_llm.LLMConfigRequest:
    properties:
      credential_id:
        type: string
      model:
        type: string
      provider:
        type: string
      url:
        type: string
    type: object
  internal_llm.LLMConfigResponse:
    properties:
      credential_id:
        description: for openai/anthropic
        type: string
      model:
        type: string
      provider:
        description: '"ollama", "openai", "anthropic"'
        type: string
      url:
        description: only for ollama
        type: string
    type: object
  internal_llm.LLMTestResponse:
    properties:
      message:
        type: string
      model:
        type: string
      success:
        type: boolean
    type: object
  internal_pulse.Alert:
    properties:
      acknowledged_at:
        type: string
      check_id:
        type: string
      consecutive_failures:
        type: integer
      device_id:
        type: string
      device_name:
        type: string
      id:
        type: string
      message:
        type: string
      resolved_at:
        type: string
      severity:
        type: string
      suppressed:
        type: boolean
      suppressed_by:
        type: string
      triggered_at:
        type: string
    type: object
  internal_pulse.Check:
    properties:
      check_type:
        type: string
      created_at:
        type: string
      device_id:
        type: string
      device_name:
        type: string
      enabled:
        type: boolean
      id:
        type: string
      interval_seconds:
        type: integer
      target:
        type: string
      updated_at:
        type: string
    type: object
  internal_pulse.CheckDependency:
    properties:
      check_id:
        type: string
      created_at:
        type: string
      depends_on_device_id:
        type: string
    type: object
  internal_pulse.CheckResult:
    properties:
      check_id:
        type: string
      checked_at:
        type: string
      device_id:
        type: string
      error_message:
        type: string
      id:
        type: integer
      latency_ms:
        type: number
      packet_loss:
        type: number
      success:
        type: boolean
    type: object
  internal_pulse.MetricDataPoint:
    properties:
      timestamp:
        type: string
      value:
        type: number
    type: object
  internal_pulse.MetricSeries:
    properties:
      device_id:
        type: string
      metric:
        type: string
      points:
        items:
          $ref: '#/definitions/internal_pulse.MetricDataPoint'
        type: array
      range:
        type: string
    type: object
  internal_pulse.NotificationChannel:
    properties:
      config:
        description: JSON blob
        type: string
      created_at:
        type: string
      enabled:
        type: boolean
      id:
        type: string
      name:
        type: string
      type:
        description: '"webhook", "alertmanager", "email"'
        type: string
      updated_at:
        type: string
    type: object
  internal_pulse.addDependencyRequest:
    properties:
      depends_on_device_id:
        type: string
    type: object
  internal_pulse.createCheckRequest:
    properties:
      check_type:
        type: string
      device_id:
        type: string
      interval_seconds:
        type: integer
      target:
        type: string
    type: object
  internal_pulse.createNotificationRequest:
    properties:
      config:
        type: string
      name:
        type: string
      type:
        type: string
    type: object
  internal_pulse.updateCheckRequest:
    properties:
      check_type:
        type: string
      enabled:
        type: boolean
      interval_seconds:
        type: integer
      target:
        type: string
    type: object
  internal_pulse.updateNotificationRequest:
    properties:
      config:
        type: string
      enabled:
        type: boolean
      name:
        type: string
    type: object
  internal_recon.BulkUpdateRequest:
    properties:
      device_ids:
        items:
          type: string
        type: array
      updates:
        $ref: '#/definitions/internal_recon.UpdateDeviceParams'
    type: object
  internal_recon.BulkUpdateResponse:
    properties:
      updated:
        type: integer
    type: object
  internal_recon.CreateDeviceRequest:
    properties:
      device_type:
        type: string
      hostname:
        type: string
      ip_addresses:
        items:
          type: string
        type: array
      mac_address:
        type: string
      notes:
        type: string
      tags:
        items:
          type: string
        type: array
    type: object
  internal_recon.DeviceHardwareResponse:
    properties:
      gpus:
        items:
          $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceGPU'
        type: array
      hardware:
        $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceHardware'
      services:
        items:
          $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceService'
        type: array
      storage:
        items:
          $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceStorage'
        type: array
    type: object
  internal_recon.DeviceListResponse:
    properties:
      devices:
        items:
          $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.Device'
        type: array
      limit:
        type: integer
      offset:
        type: integer
      total:
        type: integer
    type: object
  internal_recon.DeviceScanEvent:
    properties:
      completed_at:
        type: string
      devices_found:
        type: integer
      id:
        type: string
      started_at:
        type: string
      status:
        type: string
      target_cidr:
        type: string
    type: object
  internal_recon.DeviceStatusEvent:
    properties:
      device_id:
        type: string
      id:
        type: string
      status:
        type: string
      timestamp:
        type: string
    type: object
  internal_recon.DeviceTreeNode:
    properties:
      child_count:
        type: integer
      device_type:
        $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceType'
      hostname:
        type: string
      id:
        type: string
      ip_addresses:
        items:
          type: string
        type: array
      network_layer:
        type: integer
      parent_device_id:
        type: string
      status:
        $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceStatus'
    type: object
  internal_recon.DiagDNSRequest:
    properties:
      target:
        example: 192.168.1.1
        type: string
    type: object
  internal_recon.DiagDNSResult:
    properties:
      duration_ms:
        type: number
      hostnames:
        items:
          type: string
        type: array
      ips:
        items:
          type: string
        type: array
      lookup_type:
        type: string
      target:
        type: string
    type: object
  internal_recon.DiagPingRequest:
    properties:
      count:
        example: 4
        type: integer
      target:
        example: 192.168.1.1
        type: string
      timeout_ms:
        example: 2000
        type: integer
    type: object
  internal_recon.DiagPingResult:
    properties:
      avg_rtt_ms:
        type: number
      max_rtt_ms:
        type: number
      min_rtt_ms:
        type: number
      packet_loss:
        type: number
      received:
        type: integer
      sent:
        type: integer
      target:
        type: string
    type: object
  internal_recon.DiagPortCheckRequest:
    properties:
      ports:
        example:
        - 22
        - 80
        - 443
        items:
          type: integer
        type: array
      target:
        example: 192.168.1.1
        type: string
      timeout_ms:
        example: 2000
        type: integer
    type: object
  internal_recon.DiagPortCheckResult:
    properties:
      duration_ms:
        type: number
      ports:
        items:
          $ref: '#/definitions/internal_recon.DiagPortResult'
        type: array
      target:
        type: string
    type: object
  internal_recon.DiagPortResult:
    properties:
      banner:
        type: string
      open:
        type: boolean
      port:
        type: integer
    type: object
  internal_recon.HardwareQueryResponse:
    properties:
      devices:
        items:
          $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.Device'
        type: array
      limit:
        type: integer
      offset:
        type: integer
      total:
        type: integer
    type: object
  internal_recon.HealthScoreFactor:
    properties:
      detail:
        type: string
      name:
        type: string
      score:
        type: number
      weight:
        type: number
    type: object
  internal_recon.HealthScoreResponse:
    properties:
      factors:
        items:
          $ref: '#/definitions/internal_recon.HealthScoreFactor'
        type: array
      grade:
        type: string
      score:
        type: integer
    type: object
  internal_recon.ImportResult:
    properties:
      created:
        type: integer
      errors:
        items:
          type: string
        type: array
      skipped:
        type: integer
      updated:
        type: integer
    type: object
  internal_recon.InventorySummary:
    properties:
      by_category:
        additionalProperties:
          type: integer
        type: object
      by_type:
        additionalProperties:
          type: integer
        type: object
      offline_count:
        type: integer
      online_count:
        type: integer
      stale_count:
        type: integer
      total_devices:
        type: integer
    type: object
  internal_recon.ProxmoxResource:
    properties:
      collected_at:
        type: string
      cpu_percent:
        type: number
      device_id:
        type: string
      device_name:
        type: string
      device_type:
        type: string
      disk_total_gb:
        type: integer
      disk_used_gb:
        type: integer
      mem_total_mb:
        type: integer
      mem_used_mb:
        type: integer
      netin_bytes:
        type: integer
      netout_bytes:
        type: integer
      status:
        type: string
      uptime_sec:
        type: integer
    type: object
  internal_recon.ProxmoxSyncRequest:
    properties:
      base_url:
        example: https://pve:8006
        type: string
      host_device_id:
        example: device-uuid
        type: string
      token_id:
        example: user@pam!token
        type: string
      token_secret:
        example: uuid-secret-here
        type: string
    type: object
  internal_recon.ProxmoxSyncResult:
    properties:
      created:
        type: integer
      lxcs_found:
        type: integer
      nodes_scanned:
        type: integer
      updated:
        type: integer
      vms_found:
        type: integer
    type: object
  internal_recon.RefreshHardwareResponse:
    properties:
      device_id:
        example: abc-123
        type: string
      status:
        example: refresh_requested
        type: string
    type: object
  internal_recon.SNMPDiscoverRequest:
    properties:
      credential_id:
        example: cred-snmp-001
        type: string
      target:
        example: 192.168.1.1
        type: string
    type: object
  internal_recon.SNMPInterfaceResponse:
    properties:
      admin_status:
        type: integer
      description:
        type: string
      index:
        type: integer
      mtu:
        type: integer
      oper_status:
        type: integer
      phys_address:
        type: string
      speed:
        type: integer
      type:
        type: integer
    type: object
  internal_recon.SNMPSystemInfoResponse:
    properties:
      contact:
        type: string
      description:
        type: string
      location:
        type: string
      name:
        type: string
      object_id:
        type: string
      up_time_ms:
        type: integer
    type: object
  internal_recon.ScanMetricsAggregate:
    properties:
      avg_devices_found:
        type: number
      avg_duration_ms:
        type: number
      avg_enrich_ms:
        type: number
      avg_hosts_alive:
        type: number
      avg_ping_phase_ms:
        type: number
      created_at:
        type: string
      failed_scans:
        type: integer
      id:
        type: string
      max_devices_found:
        type: integer
      min_devices_found:
        type: integer
      period:
        type: string
      period_end:
        type: string
      period_start:
        type: string
      scan_count:
        type: integer
      total_new_devices:
        type: integer
    type: object
  internal_recon.ScanRequest:
    properties:
      subnet:
        example: 192.168.1.0/24
        type: string
    type: object
  internal_recon.ServiceMovement:
    properties:
      detected_at:
        type: string
      from_device_id:
        type: string
      id:
        type: string
      port:
        type: integer
      protocol:
        type: string
      service_name:
        type: string
      to_device_id:
        type: string
    type: object
  internal_recon.TopologyEdge:
    properties:
      id:
        example: link-001
        type: string
      link_type:
        example: ethernet
        type: string
      source:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      speed:
        example: 1000
        type: integer
      target:
        example: 660f9500-f30c-52e5-b827-557766551111
        type: string
    type: object
  internal_recon.TopologyGraph:
    properties:
      edges:
        items:
          $ref: '#/definitions/internal_recon.TopologyEdge'
        type: array
      nodes:
        items:
          $ref: '#/definitions/internal_recon.TopologyNode'
        type: array
    type: object
  internal_recon.TopologyLayout:
    properties:
      created_at:
        type: string
      id:
        type: string
      name:
        type: string
      positions:
        description: JSON array of {id, x, y}
        type: string
      updated_at:
        type: string
    type: object
  internal_recon.TopologyNode:
    properties:
      device_type:
        allOf:
        - $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceType'
        example: server
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      ip_addresses:
        items:
          type: string
        type: array
      label:
        example: web-server-01
        type: string
      mac_address:
        example: 00:1a:2b:3c:4d:5e
        type: string
      manufacturer:
        example: Dell Inc.
        type: string
      network_layer:
        type: integer
      parent_device_id:
        type: string
      status:
        allOf:
        - $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceStatus'
        example: online
    type: object
  internal_recon.TracerouteHop:
    properties:
      hop:
        type: integer
      hostname:
        example: router.local
        type: string
      ip:
        example: 192.168.1.1
        type: string
      rtt_ms:
        example: 1.23
        type: number
      timeout:
        type: boolean
    type: object
  internal_recon.TracerouteRequest:
    properties:
      max_hops:
        example: 30
        type: integer
      target:
        example: 192.168.1.1
        type: string
      timeout_ms:
        example: 1000
        type: integer
    type: object
  internal_recon.TracerouteResult:
    properties:
      duration_ms:
        example: 42.5
        type: number
      hops:
        items:
          $ref: '#/definitions/internal_recon.TracerouteHop'
        type: array
      reached:
        type: boolean
      target:
        example: 192.168.1.1
        type: string
      total_hops:
        example: 5
        type: integer
    type: object
  internal_recon.UpdateDeviceParams:
    properties:
      category:
        type: string
      custom_fields:
        additionalProperties:
          type: string
        type: object
      device_type:
        type: string
      location:
        type: string
      notes:
        type: string
      owner:
        type: string
      primary_role:
        type: string
      tags:
        items:
          type: string
        type: array
    type: object
  internal_recon.WiFiClientSnapshot:
    properties:
      ap_bssid:
        type: string
      ap_ssid:
        type: string
      collected_at:
        type: string
      connected_sec:
        type: integer
      device_id:
        type: string
      inactive_sec:
        type: integer
      rx_bitrate_bps:
        type: integer
      rx_bytes:
        type: integer
      signal_avg_dbm:
        type: integer
      signal_dbm:
        type: integer
      tx_bitrate_bps:
        type: integer
      tx_bytes:
        type: integer
    type: object
  internal_server.HealthResponse:
    properties:
      service:
        example: subnetree
        type: string
      status:
        example: ok
        type: string
      version:
        additionalProperties:
          type: string
        type: object
    type: object
  internal_server.PluginResponse:
    properties:
      description:
        example: Network discovery and scanning
        type: string
      name:
        example: recon
        type: string
      version:
        example: 0.1.0
        type: string
    type: object
  internal_settings.ActiveThemeRequest:
    description: Request body for setting the active theme.
    properties:
      theme_id:
        example: builtin-forest-dark
        type: string
    type: object
  internal_settings.ActiveThemeResponse:
    description: Response containing the active theme ID.
    properties:
      theme_id:
        example: builtin-forest-dark
        type: string
    type: object
  internal_settings.ScanInterfaceRequest:
    description: Request body for setting the network scan interface.
    properties:
      interface_name:
        example: eth0
        type: string
    type: object
  internal_settings.ScanInterfaceResponse:
    description: Response containing the configured scan interface.
    properties:
      interface_name:
        example: eth0
        type: string
    type: object
  internal_settings.SettingsProblemDetail:
    description: RFC 7807 Problem Details error response.
    properties:
      detail:
        example: 'interface not found: eth99'
        type: string
      status:
        example: 400
        type: integer
      title:
        example: Bad Request
        type: string
      type:
        example: https://subnetree.com/problems/settings-error
        type: string
    type: object
  internal_settings.ThemeDefinition:
    description: A theme with metadata, layer declarations, and CSS token overrides.
    properties:
      base_mode:
        type: string
      built_in:
        type: boolean
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      layers:
        items:
          $ref: '#/definitions/internal_settings.ThemeLayer'
        type: array
      name:
        type: string
      tokens:
        $ref: '#/definitions/internal_settings.ThemeTokens'
      updated_at:
        type: string
      version:
        type: integer
    type: object
  internal_settings.ThemeLayer:
    enum:
    - colors
    - typography
    - shape
    - effects
    type: string
    x-enum-varnames:
    - LayerColors
    - LayerTypography
    - LayerShape
    - LayerEffects
  internal_settings.ThemeTokens:
    description: Customizable CSS design token overrides grouped by UI category.
    properties:
      backgrounds:
        additionalProperties:
          type: string
        type: object
      borders:
        additionalProperties:
          type: string
        type: object
      buttons:
        additionalProperties:
          type: string
        type: object
      charts:
        additionalProperties:
          type: string
        type: object
      effects:
        additionalProperties:
          type: string
        type: object
      inputs:
        additionalProperties:
          type: string
        type: object
      sidebar:
        additionalProperties:
          type: string
        type: object
      spacing:
        additionalProperties:
          type: string
        type: object
      status:
        additionalProperties:
          type: string
        type: object
      text:
        additionalProperties:
          type: string
        type: object
      typography:
        additionalProperties:
          type: string
        type: object
    type: object
  internal_svcmap.desiredStateRequest:
    properties:
      desired_state:
        $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DesiredState'
    type: object
  internal_tailscale.SyncResult:
    properties:
      created:
        type: integer
      devices_found:
        type: integer
      unchanged:
        type: integer
      updated:
        type: integer
    type: object
  internal_tailscale.statusResponse:
    properties:
      enabled:
        type: boolean
      error:
        type: string
      last_sync_result:
        $ref: '#/definitions/internal_tailscale.SyncResult'
      last_sync_time:
        type: string
    type: object
info:
  contact: {}
  description: Network monitoring and management platform API.
  title: SubNetree API
  version: 0.1.0
paths:
  /auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate with username and password to receive a JWT token
        pair.
      parameters:
      - description: Login credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_auth.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_auth.TokenPair'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      summary: Login
      tags:
      - auth
  /auth/logout:
    post:
      consumes:
      - application/json
      description: Revoke a refresh token to end a session.
      parameters:
      - description: Refresh token to revoke
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_auth.LogoutRequest'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      summary: Logout
      tags:
      - auth
  /auth/mfa/disable:
    post:
      consumes:
      - application/json
      description: Disable TOTP-based MFA. Requires a valid TOTP code for confirmation.
      parameters:
      - description: TOTP code for confirmation
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_auth.MFADisableRequest'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Disable MFA
      tags:
      - auth
  /auth/mfa/setup:
    post:
      description: Begin TOTP enrollment. Returns the otpauth URL and recovery codes.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_auth.MFASetupResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Setup MFA
      tags:
      - auth
  /auth/mfa/verify:
    post:
      consumes:
      - application/json
      description: Complete login by providing the TOTP code from an authenticator
        app.
      parameters:
      - description: MFA token and TOTP code
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_auth.MFAVerifyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_auth.TokenPair'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      summary: Verify MFA code
      tags:
      - auth
  /auth/mfa/verify-recovery:
    post:
      consumes:
      - application/json
      description: Complete login using a one-time recovery code instead of a TOTP
        code.
      parameters:
      - description: MFA token and recovery code
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_auth.MFARecoveryRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_auth.TokenPair'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      summary: Verify MFA with recovery code
      tags:
      - auth
  /auth/mfa/verify-setup:
    post:
      consumes:
      - application/json
      description: Complete TOTP enrollment by providing a valid code from the authenticator
        app.
      parameters:
      - description: TOTP code from authenticator
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_auth.MFAVerifySetupRequest'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Verify MFA setup
      tags:
      - auth
  /auth/refresh:
    post:
      consumes:
      - application/json
      description: Exchange a valid refresh token for a new token pair (token rotation).
      parameters:
      - description: Refresh token
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_auth.RefreshRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_auth.TokenPair'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      summary: Refresh tokens
      tags:
      - auth
  /auth/setup:
    post:
      consumes:
      - application/json
      description: Create the first admin account. Only works when no users exist.
      parameters:
      - description: Admin account details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_auth.SetupRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/internal_auth.User'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      summary: Initial setup
      tags:
      - auth
  /auth/setup/status:
    get:
      description: Returns whether initial admin setup is needed and the server version.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_auth.SetupStatusResponse'
      summary: Check setup status
      tags:
      - auth
  /autodoc/changes:
    get:
      description: Returns a paginated list of auto-documentation changelog entries
        with optional filters.
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 50
        description: Items per page
        in: query
        name: per_page
        type: integer
      - description: Filter by event type
        in: query
        name: event_type
        type: string
      - description: Start date (RFC3339)
        in: query
        name: since
        type: string
      - description: End date (RFC3339)
        in: query
        name: until
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_autodoc.ChangelogListResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List changelog entries
      tags:
      - autodoc
  /autodoc/export:
    get:
      description: Generates a markdown summary of changelog entries for the given
        time range.
      parameters:
      - default: 7d
        description: 'Time range: 7d, 30d, or custom'
        in: query
        name: range
        type: string
      - description: Custom start date (RFC3339)
        in: query
        name: since
        type: string
      - description: Custom end date (RFC3339)
        in: query
        name: until
        type: string
      produces:
      - text/markdown
      responses:
        "200":
          description: Markdown text
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Export changelog as markdown
      tags:
      - autodoc
  /autodoc/stats:
    get:
      description: Returns aggregate statistics about the auto-documentation changelog.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_autodoc.Stats'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Changelog statistics
      tags:
      - autodoc
  /catalog/entries:
    get:
      description: Returns the full tool catalog for client-side filtering.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_catalog.CatalogEntry'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List all catalog entries
      tags:
      - catalog
  /catalog/recommendations:
    get:
      description: Returns recommended homelab tools filtered by hardware tier and
        optional category, sorted by memory requirements ascending.
      parameters:
      - default: 1
        description: Hardware tier (0=SBC, 1=Mini PC, 2=NAS, 3=Cluster, 4=SMB)
        in: query
        name: tier
        type: integer
      - description: Filter by category (monitoring, infrastructure, dns, etc.)
        in: query
        name: category
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_catalog.RecommendationResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get tool recommendations
      tags:
      - catalog
  /dispatch/agents:
    get:
      description: Returns all registered Scout agents.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.AgentInfo'
            type: array
      security:
      - BearerAuth: []
      summary: List agents
      tags:
      - dispatch
  /dispatch/agents/{id}:
    delete:
      description: Removes a Scout agent by ID.
      parameters:
      - description: Agent ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Delete agent
      tags:
      - dispatch
    get:
      description: Returns a single Scout agent by ID.
      parameters:
      - description: Agent ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.AgentInfo'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get agent
      tags:
      - dispatch
  /dispatch/agents/{id}/hardware:
    get:
      description: Returns the stored hardware profile for a specific agent.
      parameters:
      - description: Agent ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Get agent hardware profile
      tags:
      - dispatch
  /dispatch/agents/{id}/services:
    get:
      description: Returns the stored services list for a specific agent.
      parameters:
      - description: Agent ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              type: object
            type: array
        "404":
          description: Not Found
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Get agent services
      tags:
      - dispatch
  /dispatch/agents/{id}/software:
    get:
      description: Returns the stored software inventory for a specific agent.
      parameters:
      - description: Agent ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Get agent software inventory
      tags:
      - dispatch
  /dispatch/download/{platform}/{arch}:
    get:
      description: Redirects to the GitHub release download URL for the Scout binary.
      parameters:
      - description: Target OS (linux, darwin, windows)
        in: path
        name: platform
        required: true
        type: string
      - description: Target architecture (amd64, arm64)
        in: path
        name: arch
        required: true
        type: string
      responses:
        "302":
          description: Found
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Download Scout binary
      tags:
      - dispatch
  /dispatch/enroll:
    post:
      consumes:
      - application/json
      description: Creates a new enrollment token for agent registration.
      parameters:
      - description: Token parameters
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_dispatch.enrollTokenRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/internal_dispatch.enrollTokenResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Create enrollment token
      tags:
      - dispatch
  /dispatch/install/{platform}/{arch}:
    get:
      description: Returns a platform-specific install script (bash or PowerShell)
        for one-click Scout agent deployment.
      parameters:
      - description: Target OS (linux, darwin, windows)
        in: path
        name: platform
        required: true
        type: string
      - description: Target architecture (amd64, arm64)
        in: path
        name: arch
        required: true
        type: string
      - description: Enrollment token
        in: query
        name: token
        required: true
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Generate install script
      tags:
      - dispatch
  /health:
    get:
      description: Returns service health status with version information.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_server.HealthResponse'
      summary: Health check
      tags:
      - system
  /insight/anomalies:
    get:
      description: Returns all detected anomalies across all devices.
      parameters:
      - default: 50
        description: Maximum results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_analytics.Anomaly'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List anomalies
      tags:
      - insight
  /insight/anomalies/{device_id}:
    get:
      description: Returns anomalies for a specific device.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      - default: 50
        description: Maximum results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_analytics.Anomaly'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Device anomalies
      tags:
      - insight
  /insight/baselines/{device_id}:
    get:
      description: Returns learned baselines for a specific device.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_analytics.Baseline'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Device baselines
      tags:
      - insight
  /insight/correlations:
    get:
      description: Returns active alert correlation groups.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_analytics.AlertGroup'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List correlations
      tags:
      - insight
  /insight/correlations/{device_id}:
    get:
      description: Returns alert correlation groups involving a specific device.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_analytics.AlertGroup'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Device correlations
      tags:
      - insight
  /insight/forecasts/{device_id}:
    get:
      description: Returns capacity forecasts for a specific device.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_analytics.Forecast'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Device forecasts
      tags:
      - insight
  /insight/query:
    post:
      consumes:
      - application/json
      description: Translate a natural language question into a structured query and
        return results.
      parameters:
      - description: Query
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_analytics.NLQueryRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_analytics.NLQueryResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "503":
          description: Service Unavailable
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Natural language query
      tags:
      - insight
  /insight/recommendations:
    get:
      description: Returns optimization recommendations based on recent metrics.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_analytics.Recommendation'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get recommendations
      tags:
      - insight
  /llm/config:
    get:
      description: Returns the current LLM provider configuration.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_llm.LLMConfigResponse'
      security:
      - BearerAuth: []
      summary: Get LLM config
      tags:
      - llm
    put:
      consumes:
      - application/json
      description: Update the LLM provider and model configuration.
      parameters:
      - description: LLM config
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_llm.LLMConfigRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_llm.LLMConfigResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Update LLM config
      tags:
      - llm
  /llm/test:
    post:
      description: Tests connectivity to the configured LLM provider.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_llm.LLMTestResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_llm.LLMTestResponse'
      security:
      - BearerAuth: []
      summary: Test LLM connection
      tags:
      - llm
  /plugins:
    get:
      description: Returns all registered plugins with their metadata.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_server.PluginResponse'
            type: array
      summary: List plugins
      tags:
      - system
  /pulse/alerts:
    get:
      description: Returns monitoring alerts with optional filters.
      parameters:
      - description: Filter by device ID
        in: query
        name: device_id
        type: string
      - description: Filter by severity (warning, critical)
        in: query
        name: severity
        type: string
      - default: true
        description: Only active (unresolved) alerts
        in: query
        name: active
        type: boolean
      - default: 50
        description: Maximum alerts
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_pulse.Alert'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List alerts
      tags:
      - pulse
  /pulse/alerts/{id}:
    get:
      description: Returns a single monitoring alert by ID.
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_pulse.Alert'
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get alert
      tags:
      - pulse
  /pulse/alerts/{id}/acknowledge:
    post:
      description: Marks an alert as acknowledged.
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_pulse.Alert'
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Acknowledge alert
      tags:
      - pulse
  /pulse/alerts/{id}/resolve:
    post:
      description: Marks an alert as resolved.
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_pulse.Alert'
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Resolve alert
      tags:
      - pulse
  /pulse/checks:
    get:
      description: Returns all monitoring checks (enabled and disabled).
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_pulse.Check'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List checks
      tags:
      - pulse
    post:
      consumes:
      - application/json
      description: Creates a new monitoring check for a device.
      parameters:
      - description: Check definition
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_pulse.createCheckRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/internal_pulse.Check'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create check
      tags:
      - pulse
  /pulse/checks/{check_id}/dependencies:
    get:
      description: Returns all upstream device dependencies for a check.
      parameters:
      - description: Check ID
        in: path
        name: check_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_pulse.CheckDependency'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List check dependencies
      tags:
      - pulse
    post:
      consumes:
      - application/json
      description: Adds an upstream device dependency. When the upstream device has
        an active critical alert, this check's alerts are suppressed.
      parameters:
      - description: Check ID
        in: path
        name: check_id
        required: true
        type: string
      - description: Dependency definition
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_pulse.addDependencyRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Add check dependency
      tags:
      - pulse
  /pulse/checks/{check_id}/dependencies/{device_id}:
    delete:
      description: Removes an upstream device dependency from a check.
      parameters:
      - description: Check ID
        in: path
        name: check_id
        required: true
        type: string
      - description: Upstream device ID
        in: path
        name: device_id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Remove check dependency
      tags:
      - pulse
  /pulse/checks/{device_id}:
    get:
      description: Returns monitoring checks for a specific device.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_pulse.Check'
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Device checks
      tags:
      - pulse
  /pulse/checks/{id}:
    delete:
      description: Deletes a monitoring check and cascade-deletes its results.
      parameters:
      - description: Check ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Delete check
      tags:
      - pulse
    put:
      consumes:
      - application/json
      description: Updates fields on an existing monitoring check.
      parameters:
      - description: Check ID
        in: path
        name: id
        required: true
        type: string
      - description: Fields to update
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_pulse.updateCheckRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_pulse.Check'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Update check
      tags:
      - pulse
  /pulse/checks/{id}/toggle:
    patch:
      description: Toggles the enabled/disabled state of a monitoring check.
      parameters:
      - description: Check ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_pulse.Check'
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Toggle check
      tags:
      - pulse
  /pulse/metrics/{device_id}:
    get:
      description: Returns time-series metrics for a device with automatic downsampling.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      - description: Metric name
        enum:
        - latency
        - packet_loss
        - success_rate
        in: query
        name: metric
        required: true
        type: string
      - default: 24h
        description: Time range
        enum:
        - 1h
        - 6h
        - 24h
        - 7d
        - 30d
        in: query
        name: range
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_pulse.MetricSeries'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Device metrics
      tags:
      - pulse
  /pulse/notifications:
    get:
      description: Returns all notification channels with sensitive fields masked.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_pulse.NotificationChannel'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List notification channels
      tags:
      - pulse
    post:
      consumes:
      - application/json
      description: Creates a new notification channel (webhook or email).
      parameters:
      - description: Channel definition
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_pulse.createNotificationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/internal_pulse.NotificationChannel'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create notification channel
      tags:
      - pulse
  /pulse/notifications/{id}:
    delete:
      description: Deletes a notification channel by ID.
      parameters:
      - description: Channel ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Delete notification channel
      tags:
      - pulse
    get:
      description: Returns a single notification channel by ID with sensitive fields
        masked.
      parameters:
      - description: Channel ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_pulse.NotificationChannel'
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get notification channel
      tags:
      - pulse
    put:
      consumes:
      - application/json
      description: Updates fields on an existing notification channel.
      parameters:
      - description: Channel ID
        in: path
        name: id
        required: true
        type: string
      - description: Fields to update
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_pulse.updateNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_pulse.NotificationChannel'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Update notification channel
      tags:
      - pulse
  /pulse/notifications/{id}/test:
    post:
      description: Sends a test notification through the specified channel.
      parameters:
      - description: Channel ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Test notification channel
      tags:
      - pulse
  /pulse/results/{device_id}:
    get:
      description: Returns recent check results for a specific device.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      - default: 100
        description: Maximum results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_pulse.CheckResult'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Device results
      tags:
      - pulse
  /pulse/status/{device_id}:
    get:
      description: Returns composite health status for a specific device, including
        latest check result and active alerts.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_roles.MonitorStatus'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Monitoring status
      tags:
      - pulse
  /recon/devices:
    get:
      description: Returns a paginated list of devices with optional status, type,
        category, and owner filters.
      parameters:
      - default: 50
        description: Max results
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      - description: Filter by status
        in: query
        name: status
        type: string
      - description: Filter by device type
        in: query
        name: type
        type: string
      - description: Filter by category
        in: query
        name: category
        type: string
      - description: Filter by owner
        in: query
        name: owner
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.DeviceListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: List devices
      tags:
      - recon
    post:
      consumes:
      - application/json
      description: Manually creates a new device record.
      parameters:
      - description: Device to create
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_recon.CreateDeviceRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.Device'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Create device
      tags:
      - recon
  /recon/devices/{id}:
    delete:
      description: Permanently removes a device and its history.
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Delete device
      tags:
      - recon
    get:
      description: Returns a single device by its ID.
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.Device'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get device
      tags:
      - recon
    put:
      consumes:
      - application/json
      description: Partially updates a device's notes, tags, custom fields, or device
        type.
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      - description: Fields to update
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_recon.UpdateDeviceParams'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.Device'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Update device
      tags:
      - recon
  /recon/devices/{id}/gpu:
    get:
      description: Returns all GPUs installed in a device.
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceGPU'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get device GPUs
      tags:
      - recon
  /recon/devices/{id}/hardware:
    get:
      description: Returns the full hardware profile including storage, GPUs, and
        services for a device.
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.DeviceHardwareResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get device hardware profile
      tags:
      - recon
    put:
      consumes:
      - application/json
      description: Manually creates or updates a device's hardware profile. Sets collection_source
        to "manual".
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      - description: Hardware profile
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceHardware'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceHardware'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Update device hardware profile
      tags:
      - recon
  /recon/devices/{id}/hardware/refresh:
    post:
      description: Triggers a hardware profile re-collection for a device. For agent-managed
        devices, publishes a refresh event to the dispatch system.
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.RefreshHardwareResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Refresh device hardware profile
      tags:
      - recon
  /recon/devices/{id}/history:
    get:
      description: Returns the status change timeline for a device.
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      - default: 50
        description: Max results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_recon.DeviceStatusEvent'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Device status history
      tags:
      - recon
  /recon/devices/{id}/scans:
    get:
      description: Returns scans that discovered or updated the specified device.
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      - default: 50
        description: Max results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_recon.DeviceScanEvent'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Device scan history
      tags:
      - recon
  /recon/devices/{id}/services:
    get:
      description: Returns all running services on a device.
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceService'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get device services
      tags:
      - recon
  /recon/devices/{id}/storage:
    get:
      description: Returns all storage devices attached to a device.
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.DeviceStorage'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get device storage
      tags:
      - recon
  /recon/devices/bulk:
    patch:
      consumes:
      - application/json
      description: Applies the same partial update to multiple devices by ID.
      parameters:
      - description: Device IDs and fields to update
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_recon.BulkUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.BulkUpdateResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Bulk update devices
      tags:
      - recon
  /recon/devices/export:
    get:
      description: Downloads all devices in CSV format for spreadsheet import or backup.
      produces:
      - text/csv
      responses:
        "200":
          description: OK
          schema:
            type: file
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Export devices as CSV
      tags:
      - recon
  /recon/devices/import:
    post:
      consumes:
      - multipart/form-data
      description: Uploads a CSV file to create or update devices. Duplicates detected
        by MAC address or hostname.
      parameters:
      - description: CSV file
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.ImportResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Import devices from CSV
      tags:
      - recon
  /recon/devices/query/hardware:
    get:
      description: Returns devices matching hardware filters like RAM, CPU model,
        OS, platform type, and GPU.
      parameters:
      - description: Minimum RAM in MB
        in: query
        name: min_ram_mb
        type: integer
      - description: Maximum RAM in MB
        in: query
        name: max_ram_mb
        type: integer
      - description: CPU model substring match
        in: query
        name: cpu_model
        type: string
      - description: OS name substring match
        in: query
        name: os_name
        type: string
      - description: Platform type (baremetal, vm, container, lxc)
        in: query
        name: platform_type
        type: string
      - description: GPU vendor filter (nvidia, amd, intel)
        in: query
        name: gpu_vendor
        type: string
      - description: Filter devices with/without GPU
        in: query
        name: has_gpu
        type: boolean
      - default: 50
        description: Max results
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.HardwareQueryResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Query devices by hardware
      tags:
      - recon
  /recon/diag/dns:
    post:
      consumes:
      - application/json
      description: Performs a reverse DNS lookup for IP addresses or forward lookup
        for hostnames
      parameters:
      - description: DNS lookup parameters
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_recon.DiagDNSRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.DiagDNSResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "429":
          description: Too many concurrent diagnostics
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: DNS lookup
      tags:
      - recon
  /recon/diag/ping:
    post:
      consumes:
      - application/json
      description: Sends ICMP echo requests to the target and returns RTT statistics
      parameters:
      - description: Ping parameters
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_recon.DiagPingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.DiagPingResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "429":
          description: Too many concurrent diagnostics
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Ping a target host
      tags:
      - recon
  /recon/diag/port-check:
    post:
      consumes:
      - application/json
      description: Tests TCP connectivity to specified ports on the target host, with
        optional banner grabbing
      parameters:
      - description: Port check parameters
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_recon.DiagPortCheckRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.DiagPortCheckResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "429":
          description: Too many concurrent diagnostics
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: TCP port check
      tags:
      - recon
  /recon/hierarchy:
    get:
      description: Returns all devices organized in a parent-child hierarchy with
        network layers
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_recon.DeviceTreeNode'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get network hierarchy
      tags:
      - recon
  /recon/inventory/hardware-summary:
    get:
      description: Returns aggregate hardware statistics across all devices with hardware
        profiles.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.HardwareSummary'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Hardware inventory summary
      tags:
      - recon
  /recon/inventory/summary:
    get:
      description: Returns aggregate device inventory statistics including counts
        by status, category, and type.
      parameters:
      - default: 30
        description: Days since last seen to consider stale
        in: query
        name: stale_days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.InventorySummary'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Inventory summary
      tags:
      - recon
  /recon/metrics/aggregates:
    get:
      description: Returns weekly or monthly aggregates of scan performance metrics.
      parameters:
      - default: weekly
        description: Aggregation period (weekly or monthly)
        in: query
        name: period
        type: string
      - default: 52
        description: Max results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_recon.ScanMetricsAggregate'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: List scan metrics aggregates
      tags:
      - recon
  /recon/metrics/health-score:
    get:
      description: Returns a 0-100 health score based on scan success rate, duration
        stability, device count stability, and other factors.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.HealthScoreResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get health score
      tags:
      - recon
  /recon/metrics/raw:
    get:
      description: Returns recent individual scan performance metrics.
      parameters:
      - default: 30
        description: Max results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.ScanMetrics'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: List raw scan metrics
      tags:
      - recon
  /recon/movements:
    get:
      description: Returns recent service movements where a port migrated from one
        device to another.
      parameters:
      - default: 50
        description: Max results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_recon.ServiceMovement'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: List service movements
      tags:
      - recon
  /recon/proxmox/sync:
    post:
      consumes:
      - application/json
      description: Connects to a Proxmox VE host, enumerates VMs and containers, and
        syncs them as child devices with resource snapshots.
      parameters:
      - description: Proxmox connection details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_recon.ProxmoxSyncRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.ProxmoxSyncResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Trigger Proxmox sync
      tags:
      - recon
  /recon/proxmox/vms:
    get:
      description: Returns all Proxmox-managed VMs and containers with their latest
        resource snapshots.
      parameters:
      - description: Filter by parent host device ID
        in: query
        name: parent_id
        type: string
      - description: Filter by status (online/offline)
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_recon.ProxmoxResource'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: List Proxmox VMs and containers
      tags:
      - recon
  /recon/proxmox/vms/{id}/resources:
    get:
      description: Returns the latest resource snapshot for a specific Proxmox VM
        or container.
      parameters:
      - description: Device ID of the VM/container
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.ProxmoxResource'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get VM/container resources
      tags:
      - recon
  /recon/scan:
    post:
      consumes:
      - application/json
      description: Trigger a new network scan on the given subnet. Returns immediately
        with scan ID.
      parameters:
      - description: Subnet to scan
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_recon.ScanRequest'
      produces:
      - application/json
      responses:
        "202":
          description: Scan accepted
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.ScanResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Start scan
      tags:
      - recon
  /recon/scans:
    get:
      description: Returns a paginated list of scan results.
      parameters:
      - default: 50
        description: Max results
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.ScanResult'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: List scans
      tags:
      - recon
  /recon/scans/{id}:
    get:
      description: Returns a single scan result including discovered devices.
      parameters:
      - description: Scan ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.ScanResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get scan
      tags:
      - recon
  /recon/snmp/discover:
    post:
      consumes:
      - application/json
      description: Discover a device via SNMP using the given credentials.
      parameters:
      - description: SNMP target and credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_recon.SNMPDiscoverRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Discovered devices
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.Device'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: SNMP discover
      tags:
      - recon
  /recon/snmp/interfaces/{device_id}:
    get:
      description: Query SNMP interface table from a device.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Interface list
          schema:
            items:
              $ref: '#/definitions/internal_recon.SNMPInterfaceResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: SNMP interfaces
      tags:
      - recon
  /recon/snmp/system/{device_id}:
    get:
      description: Query SNMP system information from a device.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: System information
          schema:
            $ref: '#/definitions/internal_recon.SNMPSystemInfoResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: SNMP system info
      tags:
      - recon
  /recon/topology:
    get:
      description: Returns the network topology as a graph of nodes and edges.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.TopologyGraph'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get topology
      tags:
      - recon
  /recon/topology/layouts:
    get:
      description: Returns all saved topology layout configurations.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_recon.TopologyLayout'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: List topology layouts
      tags:
      - recon
    post:
      consumes:
      - application/json
      description: Creates a new saved topology layout configuration.
      parameters:
      - description: Layout to create
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_recon.TopologyLayout'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/internal_recon.TopologyLayout'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Create topology layout
      tags:
      - recon
  /recon/topology/layouts/{id}:
    delete:
      description: Deletes a saved topology layout configuration.
      parameters:
      - description: Layout ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Delete topology layout
      tags:
      - recon
    put:
      consumes:
      - application/json
      description: Updates an existing saved topology layout configuration.
      parameters:
      - description: Layout ID
        in: path
        name: id
        required: true
        type: string
      - description: Layout to update
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_recon.TopologyLayout'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.TopologyLayout'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Update topology layout
      tags:
      - recon
  /recon/traceroute:
    post:
      consumes:
      - application/json
      description: Performs an ICMP traceroute to the specified target IP address
      parameters:
      - description: Traceroute parameters
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_recon.TracerouteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_recon.TracerouteResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "429":
          description: Too Many Requests
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Run traceroute
      tags:
      - recon
  /recon/wifi/clients:
    get:
      description: Returns devices connected to the server's WiFi AP/hotspot with
        signal data
      parameters:
      - description: Filter by AP device ID
        in: query
        name: ap_device_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_recon.WiFiClientSnapshot'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: List WiFi hotspot clients
      tags:
      - recon
  /settings/interfaces:
    get:
      description: Get a list of all network interfaces available on the server.
      produces:
      - application/json
      responses:
        "200":
          description: List of interfaces
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_internal_services.NetworkInterface'
            type: array
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
      summary: List network interfaces
      tags:
      - settings
  /settings/scan-interface:
    get:
      description: Get the currently configured network interface for scanning.
      produces:
      - application/json
      responses:
        "200":
          description: Current scan interface
          schema:
            $ref: '#/definitions/internal_settings.ScanInterfaceResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
      summary: Get scan interface
      tags:
      - settings
    post:
      consumes:
      - application/json
      description: Configure which network interface to use for scanning.
      parameters:
      - description: Interface to use
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_settings.ScanInterfaceRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Interface configured
          schema:
            $ref: '#/definitions/internal_settings.ScanInterfaceResponse'
        "400":
          description: Invalid request or interface not found
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
      summary: Set scan interface
      tags:
      - settings
  /settings/themes:
    get:
      description: Get all available themes (built-in and custom).
      produces:
      - application/json
      responses:
        "200":
          description: List of themes
          schema:
            items:
              $ref: '#/definitions/internal_settings.ThemeDefinition'
            type: array
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
      summary: List themes
      tags:
      - settings
    post:
      consumes:
      - application/json
      description: Create a new custom theme with CSS token overrides.
      parameters:
      - description: Theme definition (id, created_at, updated_at, version, built_in
          are ignored)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_settings.ThemeDefinition'
      produces:
      - application/json
      responses:
        "201":
          description: Created theme
          schema:
            $ref: '#/definitions/internal_settings.ThemeDefinition'
        "400":
          description: Validation error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
      summary: Create theme
      tags:
      - settings
  /settings/themes/{id}:
    delete:
      description: Delete a custom theme. Built-in themes cannot be deleted.
      parameters:
      - description: Theme ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: Theme deleted
        "403":
          description: Cannot delete built-in theme
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
        "404":
          description: Theme not found
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
      summary: Delete theme
      tags:
      - settings
    get:
      description: Get a theme by its ID.
      parameters:
      - description: Theme ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Theme details
          schema:
            $ref: '#/definitions/internal_settings.ThemeDefinition'
        "404":
          description: Theme not found
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
      summary: Get theme
      tags:
      - settings
    put:
      consumes:
      - application/json
      description: Update a custom theme. Built-in themes cannot be modified.
      parameters:
      - description: Theme ID
        in: path
        name: id
        required: true
        type: string
      - description: Fields to update
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_settings.ThemeDefinition'
      produces:
      - application/json
      responses:
        "200":
          description: Updated theme
          schema:
            $ref: '#/definitions/internal_settings.ThemeDefinition'
        "403":
          description: Cannot modify built-in theme
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
        "404":
          description: Theme not found
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
      summary: Update theme
      tags:
      - settings
  /settings/themes/active:
    get:
      description: Get the ID of the currently active theme.
      produces:
      - application/json
      responses:
        "200":
          description: Active theme ID
          schema:
            $ref: '#/definitions/internal_settings.ActiveThemeResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
      summary: Get active theme
      tags:
      - settings
    put:
      consumes:
      - application/json
      description: Set which theme is currently active.
      parameters:
      - description: Theme ID to activate
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_settings.ActiveThemeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Active theme set
          schema:
            $ref: '#/definitions/internal_settings.ActiveThemeResponse'
        "400":
          description: Validation error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
        "404":
          description: Theme not found
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_settings.SettingsProblemDetail'
      summary: Set active theme
      tags:
      - settings
  /svcmap/devices/{device_id}/services:
    get:
      description: Returns all tracked services for a specific device.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.Service'
            type: array
      security:
      - BearerAuth: []
      summary: Device services
      tags:
      - svcmap
  /svcmap/devices/{device_id}/utilization:
    get:
      description: Returns resource utilization summary and grade for a device.
      parameters:
      - description: Device ID
        in: path
        name: device_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.UtilizationSummary'
      security:
      - BearerAuth: []
      summary: Device utilization
      tags:
      - svcmap
  /svcmap/services:
    get:
      description: Returns all tracked services with optional filtering.
      parameters:
      - description: Filter by device ID
        in: query
        name: device_id
        type: string
      - description: Filter by service type
        in: query
        name: service_type
        type: string
      - description: Filter by status
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.Service'
            type: array
      security:
      - BearerAuth: []
      summary: List services
      tags:
      - svcmap
  /svcmap/services/{id}:
    get:
      description: Returns a single tracked service by ID.
      parameters:
      - description: Service ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.Service'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get service
      tags:
      - svcmap
    patch:
      consumes:
      - application/json
      description: Updates the desired operational state for a service.
      parameters:
      - description: Service ID
        in: path
        name: id
        required: true
        type: string
      - description: Desired state
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_svcmap.desiredStateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.Service'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Update desired state
      tags:
      - svcmap
  /svcmap/utilization/fleet:
    get:
      description: Returns fleet-wide utilization summary with grade distribution.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.FleetSummary'
      security:
      - BearerAuth: []
      summary: Fleet summary
      tags:
      - svcmap
  /tailscale/status:
    get:
      description: Returns whether the integration is enabled, last sync time and
        result.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_tailscale.statusResponse'
      security:
      - BearerAuth: []
      summary: Get Tailscale integration status
      tags:
      - tailscale
  /tailscale/sync:
    post:
      description: Immediately syncs devices from the configured Tailscale tailnet.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_tailscale.SyncResult'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Trigger Tailscale sync
      tags:
      - tailscale
  /users:
    get:
      description: Returns all user accounts. Requires admin role.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_auth.User'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: List users
      tags:
      - users
  /users/{id}:
    delete:
      description: Delete a user account by ID. Requires admin role.
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Delete user
      tags:
      - users
    get:
      description: Returns a single user by ID. Requires admin role.
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_auth.User'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Get user
      tags:
      - users
    put:
      consumes:
      - application/json
      description: Update a user's email, role, or disabled status. Requires admin
        role.
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated user fields
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_auth.UpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_auth.User'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_HerbHall_subnetree_pkg_models.APIProblem'
      security:
      - BearerAuth: []
      summary: Update user
      tags:
      - users
securityDefinitions:
  BearerAuth:
    description: 'JWT Bearer token. Format: "Bearer {token}"'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
